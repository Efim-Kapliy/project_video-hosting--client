# MY Video - Видеохостинг платформа

## Общая информация

**MY Video** - это современное веб-приложение для просмотра видео, построенное на передовом технологическом стеке. Проект представляет собой клиентскую часть видеохостинга с двумя основными разделами: публичный интерфейс для просмотра видео и студию для управления контентом.

## Технологический стек

### Frontend
- **Next.js 15.1.4** - фреймворк для React с SSR/SSG
- **React 19** - библиотека для создания пользовательских интерфейсов
- **TypeScript** - типизированный JavaScript
- **Tailwind CSS** - CSS-фреймворк для стилизации
- **Redux Toolkit** - управление состоянием приложения
- **TanStack Query (React Query)** - управление асинхронными данными
- **React Hook Form** - управление формами
- **React Google reCAPTCHA** - защита от ботов
- **Lucide React** - иконки
- **Motion** - анимации

### Backend (не включен в данный анализ)
- API URL: `http://localhost:4200/api`

## Архитектура проекта

### Структура каталогов

```
src/
├── app/                    # App Router (Next.js 13+)
│   ├── (public)/          # Публичные маршруты
│   ├── auth/              # Авторизация
│   └── studio/            # Студия (личный кабинет)
├── components/            # Компоненты
│   └── layout/           # Макеты приложения
├── services/             # Сервисы для API
├── types/                # TypeScript типы
├── store/                # Redux хранилище
├── hooks/                # Кастомные хуки
├── config/               # Конфигурационные файлы
├── constants/            # Константы
├── utils/                # Утилиты
├── api/                  # API конфигурация
└── server-actions/       # Server Actions (Next.js)
```

### Основные компоненты

#### Макет приложения (`src/components/layout/`)
- **Layout.tsx** - основной макет с боковой панелью
- **Sidebar** - боковое меню с навигацией
- **Content** - контентная область
- **Header** - верхняя панель с поиском и профилем

#### Публичные страницы (`src/app/(public)/`)
- **Главная страница** - трендовые видео и эксплор
- **Каналы** - просмотр видео канала
- **Поиск** - поиск по видео
- **Тренды** - популярные видео
- **Видеоигры** - категория видеоигр

#### Студия (`src/app/studio/`)
- **Главная студии** - заглушка
- **Настройки** - редактирование профиля и канала
- **Загрузка видео** - заглушка

#### Авторизация (`src/app/auth/`)
- **Форма авторизации** с reCAPTCHA
- Поддержка входа и регистрации

### Система типов (`src/types/`)

Основные типы данных:
- **IUser** - пользователь
- **IChannel** - канал пользователя
- **IVideo** - видео
- **IAuthData** - данные авторизации
- **IWatchHistory** - история просмотров

### Сервисы (`src/services/`)

- **auth.service.ts** - авторизация и аутентификация
- **video.service.ts** - работа с видео
- **channel.service.ts** - работа с каналами
- **user.service.ts** - работа с пользователями
- **file.service.ts** - загрузка файлов

### Управление состоянием

#### Redux Store (`src/store/`)
- **auth.slice.ts** - состояние авторизации
- Хранение токенов, данных пользователя
- Интеграция с Cookie для persist данных

#### React Query
- Кэширование данных
- Автоматическая подгрузка данных
- Обработка ошибок

### Middleware и защита

#### Server Actions (`src/server-actions/`)
- **protect-login.middleware.ts** - защита страниц авторизации
- **protect-studio.middleware.ts** - защита студии
- Проверка JWT токенов
- Автоматическое обновление токенов

## Особенности архитектуры

### Двухуровневая защита
- **Client-side**: Redux + React Query
- **Server-side**: Middleware + Server Actions

### Аутентификация
- JWT токены (access + refresh)
- Хранение в cookies
- Автоматическое обновление токенов

### Загрузка файлов
- Поддержка загрузки аватаров и баннеров
- Интеграция с облачным хранилищем

### SEO оптимизация
- Server-side rendering
- Meta теги для страниц
- Open Graph поддержка

## Конфигурация

### Next.js конфигурация
- SSR включен
- Rewrites для загрузки файлов
- Turbopack для разработки

### Стили
- Tailwind CSS с кастомными цветами
- SCSS для компонентов
- Responsive design

## Пути навигации

### Публичные маршруты
- `/` - Главная
- `/c/:slug` - Канал
- `/s?term=` - Поиск
- `/trending` - Тренды
- `/video-games` - Игры
- `/auth` - Авторизация

### Приватные маршруты (Студия)
- `/studio` - Студия
- `/studio/settings` - Настройки
- `/studio/upload` - Загрузка видео

## Запуск проекта

1. Установите зависимости:
   ```bash
   bun install
   ```

2. Запустите development сервер:
   ```bash
   bun dev
   ```

3. Откройте [http://localhost:3000](http://localhost:3000) в браузере

## Заключение

Проект "MY Video" демонстрирует современный подход к разработке веб-приложений с использованием Next.js 13+, TypeScript и Redux. Архитектура проекта хорошо организована, с четким разделением ответственности между слоями. Реализована многоуровневая система безопасности, поддержка SSR для SEO и современный UX с анимациями и отзывчивым дизайном.
